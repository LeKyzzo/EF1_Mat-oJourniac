:root {
  --color-bg: #0f1115;
  --color-surface: #1b1f27;
  --color-surface-alt: #252b36;
  --color-primary: #3b82f6;
  --color-primary-accent: #60a5fa;
  --color-danger: #ef4444;
  --color-success: #16a34a;
  --color-warning: #f59e0b;
  --color-text: #f1f5f9;
  --color-text-muted: #94a3b8;
  --color-border: #2c3442;
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 14px;
  --shadow-sm: 0 2px 4px -1px rgba(0,0,0,.3);
  --shadow-md: 0 4px 12px -2px rgba(0,0,0,.4);
  --font-sans: system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;
  --transition: .25s cubic-bezier(.4,.0,.2,1);
}

* { box-sizing: border-box; }
html { scroll-behavior: smooth; }
body {
  margin: 0;
  font-family: var(--font-sans);
  background: linear-gradient(145deg,#11151d,#0d0f13 60%);
  color: var(--color-text);
  -webkit-font-smoothing: antialiased;
  line-height: 1.5;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}
img { max-width: 100%; display: block; }
a { color: var(--color-primary); text-decoration: none; }
a:hover, a:focus-visible { color: var(--color-primary-accent); }

.container { width: min(1200px, 92%); margin: 0 auto; }
.sr-only { position: absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0; }

/* Header */
.site-header { position: sticky; top:0; z-index:50; backdrop-filter: blur(12px); background:rgba(15,17,21,.75); border-bottom:1px solid var(--color-border); }
.header__inner { display:flex; align-items:center; justify-content:space-between; padding:.75rem 0; }
.logo { font-weight:700; font-size:1.25rem; letter-spacing:.5px; color:#fff; }
.logo span { color: var(--color-primary); }

.main-nav { transition: var(--transition); }
.nav__list { list-style:none; display:flex; gap:1.25rem; margin:0; padding:0; }
.nav__link { position:relative; padding:.35rem .15rem; font-weight:500; color:var(--color-text-muted); }
.nav__link.active, .nav__link:hover, .nav__link:focus-visible { color:#fff; }
.nav__link.active::after, .nav__link:hover::after, .nav__link:focus-visible::after { content:""; position:absolute; left:0; bottom:-6px; width:100%; height:2px; background:linear-gradient(90deg,var(--color-primary),var(--color-primary-accent)); border-radius:2px; }

.nav-toggle { display:none; background:none; border:0; cursor:pointer; padding:.35rem .4rem; border-radius: var(--radius-sm); }
.nav-toggle:focus-visible { outline:2px solid var(--color-primary); outline-offset:2px; }
.nav-toggle__bar { display:block; width:26px; height:3px; background:var(--color-text); margin:5px 0; border-radius:2px; transition:var(--transition); }
/* Overlay navigation mobile */
.nav-overlay { position:fixed; inset:0; background:rgba(0,0,0,.55); backdrop-filter:blur(2px); z-index:40; opacity:0; visibility:hidden; transition:var(--transition); }
.nav-overlay.active { opacity:1; visibility:visible; }

/* Hero */
.hero { padding:3.5rem 0 2.5rem; text-align:center; background: radial-gradient(circle at 50% 20%, #1d2430, #0f1115 65%); position:relative; overflow:hidden; }
.hero::before { content:""; position:absolute; inset:0; background:radial-gradient(circle at 70% 30%, rgba(59,130,246,.15), transparent 60%); mix-blend-mode:screen; }
.hero h1 { font-size: clamp(1.9rem, 5vw, 2.8rem); margin:0 0 .75rem; line-height:1.15; }
.hero__subtitle { margin:0 0 1.5rem; color: var(--color-text-muted); font-size:clamp(.95rem, 1.9vw, 1.15rem); }

/* Search */
.search { position:relative; width:min(650px,100%); margin:0 auto; display:flex; align-items:center; background:var(--color-surface); border:1px solid var(--color-border); border-radius: var(--radius-md); box-shadow: var(--shadow-sm); padding:.4rem .75rem; }
.search input { flex:1; background:transparent; border:0; color:#fff; font-size:.95rem; padding:.55rem .35rem; font-family:inherit; }
.search input:focus { outline:none; }
.search #clearSearch { background:none; border:0; color:var(--color-text-muted); font-size:1.25rem; cursor:pointer; line-height:1; padding:.25rem; display:none; }
.search__help { font-size:.7rem; text-align:left; margin:.35rem 0 0; color:var(--color-text-muted); }

/* Users grid */
.users { padding:2.5rem 0 3rem; }
.users h2 { margin:0 0 1.5rem; font-size:1.6rem; }
.users__grid { display:grid; gap:1.4rem; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); }
.user-card { background:var(--color-surface); border:1px solid var(--color-border); padding:1rem .95rem 1.05rem; border-radius: var(--radius-lg); position:relative; display:flex; flex-direction:column; gap:.75rem; min-height:220px; box-shadow: var(--shadow-sm); overflow:hidden; }
.user-card::before { content:""; position:absolute; inset:0; background:linear-gradient(145deg, rgba(59,130,246,.08), transparent 65%); opacity:0; transition:var(--transition); pointer-events:none; }
.user-card:hover::before, .user-card:focus-within::before { opacity:1; }
/* Lien couvrant toute la carte */
.user-card__full { position:absolute; inset:0; z-index:30; text-indent:-9999px; overflow:hidden; border-radius:inherit; }
.user-card__full:focus-visible { outline:2px solid var(--color-primary); outline-offset:2px; }
.user-card__header { display:flex; align-items:flex-start; justify-content:space-between; gap:.75rem; }
.user-card__title { margin:0; font-size:1.05rem; line-height:1.25; font-weight:600; }
.user-card__company { font-size:.72rem; letter-spacing:.5px; font-weight:500; text-transform:uppercase; color:var(--color-primary-accent); }
.user-card__projects { margin:0; padding:0; list-style:none; display:flex; flex-direction:column; gap:.4rem; font-size:.75rem; }
.user-card__projects li { display:flex; align-items:center; gap:.45rem; color:var(--color-text-muted); }
.badge { background:linear-gradient(145deg,var(--color-primary), var(--color-primary-accent)); padding:.22rem .55rem .28rem; font-size:.65rem; font-weight:600; border-radius: 999px; letter-spacing:.5px; box-shadow: var(--shadow-sm); }

.btn-link { background:none; border:0; color:var(--color-primary); font:inherit; cursor:pointer; padding:0; display:inline-flex; align-items:center; gap:.4rem; font-size:.8rem; }
.btn-link:hover { color:var(--color-primary-accent); }

/* User detail */
.user-detail { padding:2.25rem 0 1rem; }
.user-detail__info { background:var(--color-surface); border:1px solid var(--color-border); border-radius: var(--radius-lg); padding:1.25rem 1.4rem; box-shadow: var(--shadow-sm); }
.user-meta { display:grid; gap:.75rem; grid-template-columns: repeat(auto-fit,minmax(220px,1fr)); margin:1rem 0 0; font-size:.85rem; }
.user-meta div { background: var(--color-surface-alt); border:1px solid var(--color-border); padding:.75rem .85rem; border-radius: var(--radius-md); display:flex; flex-direction:column; gap:.35rem; }
.user-meta span { font-size:.65rem; letter-spacing:.5px; text-transform:uppercase; color:var(--color-text-muted); font-weight:600; }

/* Todos */
.todos { padding:1rem 0 3rem; }
.todos__header { display:flex; align-items:center; justify-content:space-between; gap:1rem; }
.todos__filters { margin:1rem 0 1.2rem; display:flex; flex-wrap:wrap; gap:.6rem; }
.filter-btn { background:var(--color-surface); border:1px solid var(--color-border); color:var(--color-text-muted); padding:.45rem .9rem; font-size:.7rem; letter-spacing:.5px; font-weight:600; cursor:pointer; border-radius: var(--radius-md); transition: var(--transition); }
.filter-btn:hover { color:#fff; }
.filter-btn.active { background:var(--color-primary); color:#fff; border-color:var(--color-primary); box-shadow: var(--shadow-sm); }

.todos__list { list-style:none; margin:0; padding:0; display:grid; gap:.75rem; }
.todo-item { display:flex; align-items:flex-start; gap:.75rem; background:var(--color-surface); border:1px solid var(--color-border); padding:.75rem .85rem .8rem; border-radius: var(--radius-md); position:relative; overflow:hidden; box-shadow: var(--shadow-sm); }
.todo-item::before { content:""; position:absolute; inset:0; background:linear-gradient(120deg, rgba(96,165,250,.1), transparent 65%); opacity:0; transition:var(--transition); }
.todo-item:hover::before { opacity:1; }
.todo-item.done { opacity:.72; }
.todo-item.done .todo-title { text-decoration:line-through; color:var(--color-text-muted); }
.todo-check { position:relative; width:20px; height:20px; margin-top:.2rem; }
.todo-check input { position:absolute; inset:0; width:100%; height:100%; margin:0; opacity:0; cursor:pointer; }
.todo-check span { position:absolute; inset:0; border:2px solid var(--color-primary); border-radius:5px; display:grid; place-items:center; font-size:.8rem; color:#fff; background:linear-gradient(145deg,var(--color-primary),var(--color-primary-accent)); opacity:0; transition:var(--transition); }
.todo-check input:focus-visible + span { outline:2px solid var(--color-primary); outline-offset:2px; }
.todo-check input:checked + span { opacity:1; }
.todo-body { flex:1; display:flex; flex-direction:column; gap:.45rem; }
.todo-title { margin:0; font-size:.85rem; line-height:1.35; }
.todo-meta { font-size:.6rem; letter-spacing:.5px; text-transform:uppercase; font-weight:600; color:var(--color-text-muted); display:flex; align-items:center; gap:.5rem; }
.todo-meta .status { display:inline-flex; align-items:center; gap:.25rem; }
.status-dot { width:6px; height:6px; border-radius:50%; background:var(--color-warning); box-shadow:0 0 0 3px rgba(245,158,11,.15); }
.todo-item.done .status-dot { background:var(--color-success); box-shadow:0 0 0 3px rgba(22,163,74,.2); }

/* Form */
.todo-form { margin:1.25rem 0 1.5rem; background:var(--color-surface); border:1px solid var(--color-border); padding:1rem 1.15rem 1.3rem; border-radius: var(--radius-lg); display:grid; gap:1rem; box-shadow: var(--shadow-sm); }
.field-group { display:flex; flex-direction:column; gap:.45rem; }
.field-group label { font-size:.7rem; letter-spacing:.5px; font-weight:700; text-transform:uppercase; color:var(--color-text-muted); }
.field-group input[type=text] { background:var(--color-surface-alt); border:1px solid var(--color-border); border-radius: var(--radius-md); padding:.65rem .75rem; font:inherit; color:#fff; }
.field-group input[type=text]:focus { outline:2px solid var(--color-primary); outline-offset:2px; }
.field-inline { flex-direction:row; align-items:center; gap:.75rem; }
.field-inline label { margin:0; }
.form__msg { margin:0; font-size:.7rem; font-weight:600; letter-spacing:.5px; }
.form__msg.error { color: var(--color-danger); }
.form__msg.success { color: var(--color-success); }

/* Buttons */
.btn-primary, .btn-secondary { --btn-bg: var(--color-primary); --btn-bg-hover: var(--color-primary-accent); --btn-color:#fff; background:linear-gradient(145deg,var(--btn-bg),var(--btn-bg-hover)); border:0; color:var(--btn-color); padding:.65rem 1.1rem .7rem; font:inherit; font-weight:600; letter-spacing:.5px; border-radius: var(--radius-md); cursor:pointer; box-shadow: var(--shadow-sm); position:relative; overflow:hidden; }
.btn-secondary { --btn-bg: var(--color-surface-alt); --btn-bg-hover: #2f3845; border:1px solid var(--color-border); background:var(--btn-bg); color:var(--color-text); }
.btn-primary::after, .btn-secondary::after { content:""; position:absolute; inset:0; background:linear-gradient(120deg, rgba(255,255,255,.18), transparent 60%); opacity:0; transition:var(--transition); }
.btn-primary:hover::after, .btn-secondary:hover::after { opacity:1; }
.btn-primary:focus-visible, .btn-secondary:focus-visible { outline:2px solid var(--color-primary); outline-offset:2px; }

.back-wrapper { padding:0 0 3rem; }

/* Breadcrumb */
.breadcrumb { background:var(--color-surface); border:1px solid var(--color-border); margin:1rem 0 0; padding:.6rem .9rem; border-radius: var(--radius-md); font-size:.7rem; letter-spacing:.5px; }
.breadcrumb ol { list-style:none; display:flex; gap:.5rem; margin:0; padding:0; flex-wrap:wrap; }
.breadcrumb a { color:var(--color-primary); }
.breadcrumb a:hover { color:var(--color-primary-accent); }

/* Footer */
.site-footer { margin-top:auto; padding:2.25rem 0 2.5rem; background:#0c0e12; border-top:1px solid var(--color-border); font-size:.75rem; color:var(--color-text-muted); }
.footer__inner { text-align:center; }

/* Loader */
.loader { position:fixed; inset:0; display:grid; place-items:center; background:rgba(15,17,21,.85); backdrop-filter: blur(6px); transition:var(--transition); opacity:0; visibility:hidden; z-index:200; }
.loader.active { opacity:1; visibility:visible; }
.loader__spinner { width:54px; height:54px; border-radius:50%; border:4px solid rgba(255,255,255,.08); border-top-color: var(--color-primary); animation: spin 1s linear infinite; display:inline-block; position:relative; }
.loader__spinner::after { content:""; position:absolute; inset:4px; border-radius:50%; background:radial-gradient(circle at 30% 30%, var(--color-primary-accent), transparent 70%); filter:blur(6px); opacity:.55; }
@keyframes spin { to { transform: rotate(360deg); } }

/* Animations scroll reveal */
.reveal { opacity:0; transform:translateY(18px); transition: .7s cubic-bezier(.34,.06,.18,1); }
.reveal.visible { opacity:1; transform:translateY(0); }

/* Utilities */
.badge-inline { display:inline-block; margin-left:.35rem; }
.empty-state { text-align:center; padding:2rem 1rem; font-size:.85rem; color:var(--color-text-muted); }

/* Media queries de base (détails dans responsive.css) */
@media (max-width: 780px) {
  .nav-toggle { display:block; }
  .main-nav { position:fixed; top:0; right:0; bottom:0; width:100%; max-width:none; background:rgba(15,17,21,.97); backdrop-filter: blur(10px); padding:5rem 1.25rem 2rem; transform:translateX(100%); display:flex; z-index:50; box-shadow:-6px 0 18px -4px rgba(0,0,0,.55); transition: var(--transition); }
  .main-nav[hidden] { display:flex; visibility:hidden; }
  .main-nav.open { transform:translateX(0); visibility:visible; }
  .nav__list { flex-direction:column; align-items:flex-start; gap:1.1rem; font-size:1rem; margin-top:-1rem; }
  body.nav-open { overflow:hidden; }
  .nav-toggle.active .nav-toggle__bar:nth-child(1) { transform:translateY(8px) rotate(45deg); }
  .nav-toggle.active .nav-toggle__bar:nth-child(2) { opacity:0; }
  .nav-toggle.active .nav-toggle__bar:nth-child(3) { transform:translateY(-8px) rotate(-45deg); }
}
